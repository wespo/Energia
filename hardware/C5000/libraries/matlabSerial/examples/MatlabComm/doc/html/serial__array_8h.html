<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>MatlabComm: serial_array.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MatlabComm
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">DSP Shield serial communication to/from Matlab</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">serial_array.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;core.h&quot;</code><br />
<code>#include &quot;OLED.h&quot;</code><br />
</div>
<p><a href="serial__array_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_serial_cmd.html">SerialCmd</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to manage reception of commands from the serial interface.  <a href="class_serial_cmd.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9c7789c259893d0007efa0228a006ee0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial__array_8h.html#a9c7789c259893d0007efa0228a006ee0">serial_connect</a> (long <a class="el" href="_matlab_comm_8ino.html#a849e49e807dea75cbcd7fe53fbb2e452">baudRate</a>)</td></tr>
<tr class="memdesc:a9c7789c259893d0007efa0228a006ee0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stablish a serial connection.  <a href="#a9c7789c259893d0007efa0228a006ee0">More...</a><br /></td></tr>
<tr class="separator:a9c7789c259893d0007efa0228a006ee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96241845e4033ac89a0db88083a21e7"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial__array_8h.html#ae96241845e4033ac89a0db88083a21e7">serial_recv_array</a> (char *data, unsigned int dataLength)</td></tr>
<tr class="memdesc:ae96241845e4033ac89a0db88083a21e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive array of type char.  <a href="#ae96241845e4033ac89a0db88083a21e7">More...</a><br /></td></tr>
<tr class="separator:ae96241845e4033ac89a0db88083a21e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95153c546223fc81370b3f0e8bd84ac6"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial__array_8h.html#a95153c546223fc81370b3f0e8bd84ac6">serial_recv_array</a> (int *data, unsigned int dataLength)</td></tr>
<tr class="memdesc:a95153c546223fc81370b3f0e8bd84ac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive array of type int.  <a href="#a95153c546223fc81370b3f0e8bd84ac6">More...</a><br /></td></tr>
<tr class="separator:a95153c546223fc81370b3f0e8bd84ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288866a2ac15b2b35312ec0e6e515010"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial__array_8h.html#a288866a2ac15b2b35312ec0e6e515010">serial_recv_array</a> (long *data, unsigned int dataLength)</td></tr>
<tr class="memdesc:a288866a2ac15b2b35312ec0e6e515010"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive array of type long.  <a href="#a288866a2ac15b2b35312ec0e6e515010">More...</a><br /></td></tr>
<tr class="separator:a288866a2ac15b2b35312ec0e6e515010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd246e3963182726e0f8ea104294e2f"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial__array_8h.html#a1cd246e3963182726e0f8ea104294e2f">serial_send_array</a> (char *data, unsigned int dataLength)</td></tr>
<tr class="memdesc:a1cd246e3963182726e0f8ea104294e2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send array of type char.  <a href="#a1cd246e3963182726e0f8ea104294e2f">More...</a><br /></td></tr>
<tr class="separator:a1cd246e3963182726e0f8ea104294e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f773eaf92362657e7d3ba7107db4a93"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial__array_8h.html#a3f773eaf92362657e7d3ba7107db4a93">serial_send_array</a> (int *data, unsigned int dataLength)</td></tr>
<tr class="memdesc:a3f773eaf92362657e7d3ba7107db4a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send array of type int.  <a href="#a3f773eaf92362657e7d3ba7107db4a93">More...</a><br /></td></tr>
<tr class="separator:a3f773eaf92362657e7d3ba7107db4a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d20d8e1103f03df5b983e7c0d99a1fe"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="serial__array_8h.html#a3d20d8e1103f03df5b983e7c0d99a1fe">serial_send_array</a> (long *data, unsigned int dataLength)</td></tr>
<tr class="memdesc:a3d20d8e1103f03df5b983e7c0d99a1fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send array of type long.  <a href="#a3d20d8e1103f03df5b983e7c0d99a1fe">More...</a><br /></td></tr>
<tr class="separator:a3d20d8e1103f03df5b983e7c0d99a1fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This library extends the capabilities of the Energia Serial library to send and receive arrays of arbitrary length. A command/data class is also defined to manage the sending of integer commands and data over the serial interface.</p>
<p>Usage for array send/receive:</p><ul>
<li>Initialize the serial interface<ul>
<li>DSP Shield: <a class="el" href="serial__array_8h.html#a9c7789c259893d0007efa0228a006ee0" title="Stablish a serial connection. ">serial_connect()</a></li>
<li>Matlab: [s, connected] = serial_connect(comport, baud);</li>
</ul>
</li>
<li>Send data<ul>
<li>DSP Shield: <a class="el" href="serial__array_8h.html#a1cd246e3963182726e0f8ea104294e2f" title="Send array of type char. ">serial_send_array()</a></li>
<li>Matlab: output = serial_recv_array(s);</li>
</ul>
</li>
<li>Receive data<ul>
<li>DSP Shield: <a class="el" href="serial__array_8h.html#ae96241845e4033ac89a0db88083a21e7" title="Receive array of type char. ">serial_recv_array()</a></li>
<li>Matlab: serial_send_array(s, input);</li>
</ul>
</li>
<li>Close communication<ul>
<li>DSP Shield: do nothing.</li>
<li>Matlab: fclose(s); Note that if at any time during the communication the program encounters an error, the serial buffers between the DSP Shield and Matlab might get out of sync preventing subsequent communication. In this case, you should manually close the Matlab serial port object by invoking the “fclose(s)” command on the Matlab prompt and restarting the DSP Shield.</li>
</ul>
</li>
</ul>
<p>Usage to receive command/data pairs:</p><ul>
<li>Initialize the serial interface<ul>
<li>DSP Shield: <a class="el" href="serial__array_8h.html#a9c7789c259893d0007efa0228a006ee0" title="Stablish a serial connection. ">serial_connect()</a></li>
<li>Matlab: [s, connected] = serial_connect(comport, baud);</li>
</ul>
</li>
<li>Instantiate the <a class="el" href="class_serial_cmd.html" title="Class to manage reception of commands from the serial interface. ">SerialCmd</a> class<ul>
<li>DSP Shield: <a class="el" href="class_serial_cmd.html" title="Class to manage reception of commands from the serial interface. ">SerialCmd</a> cmd;</li>
</ul>
</li>
<li>Receive command<ul>
<li>Matlab: serial_cmd(s, cmd, data);</li>
<li><a class="el" href="class_serial_cmd.html#ab38c4b8d00718172aa1cbe8701c32177" title="This function receives commands from the serial interface. ">SerialCmd::recv()</a>;</li>
</ul>
</li>
<li>Extract command and data<ul>
<li>command = <a class="el" href="class_serial_cmd.html#ad174970c4a317c0d57e259886d0abd6f" title="Returns the last command received. ">SerialCmd::getCmd()</a>;</li>
<li>data = <a class="el" href="class_serial_cmd.html#ab191b4aca4755329ac1b7462165b25ca" title="Returns a pointer to the receive data (int) array. ">SerialCmd::getDataIntPointer()</a>;</li>
</ul>
</li>
</ul>
<p>For more information see documentation for the corresponding functions. </p>

<p>Definition in file <a class="el" href="serial__array_8h_source.html">serial_array.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9c7789c259893d0007efa0228a006ee0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int serial_connect </td>
          <td>(</td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>baudRate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stablish a serial connection. </p>
<p>Baud rate must match the baud rate specified in Matlab</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baudRate</td><td>specify the serial communication speed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the connection is suscessfull and 0 otherwise </dd></dl>

<p>Definition at line <a class="el" href="serial__array_8cpp_source.html#l00253">253</a> of file <a class="el" href="serial__array_8cpp_source.html">serial_array.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae96241845e4033ac89a0db88083a21e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int serial_recv_array </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive array of type char. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>specify the pointer to the input array </td></tr>
    <tr><td class="paramname">dataLength</td><td>is the number of elements in the data receive buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of elements actually received </dd></dl>

<p>Definition at line <a class="el" href="serial__array_8cpp_source.html#l00016">16</a> of file <a class="el" href="serial__array_8cpp_source.html">serial_array.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a95153c546223fc81370b3f0e8bd84ac6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int serial_recv_array </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive array of type int. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>specify the pointer to the input array </td></tr>
    <tr><td class="paramname">dataLength</td><td>is the number of elements in the data receive buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of elements actually received </dd></dl>

<p>Definition at line <a class="el" href="serial__array_8cpp_source.html#l00067">67</a> of file <a class="el" href="serial__array_8cpp_source.html">serial_array.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a288866a2ac15b2b35312ec0e6e515010"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int serial_recv_array </td>
          <td>(</td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive array of type long. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>specify the pointer to the input array </td></tr>
    <tr><td class="paramname">dataLength</td><td>is the number of elements in the data receive buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of elements actually received </dd></dl>

<p>Definition at line <a class="el" href="serial__array_8cpp_source.html#l00134">134</a> of file <a class="el" href="serial__array_8cpp_source.html">serial_array.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1cd246e3963182726e0f8ea104294e2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int serial_send_array </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send array of type char. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>specify the pointer to the output array </td></tr>
    <tr><td class="paramname">dataLength</td><td>is the number of elements in the data send buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of elements actually sent </dd></dl>

<p>Definition at line <a class="el" href="serial__array_8cpp_source.html#l00166">166</a> of file <a class="el" href="serial__array_8cpp_source.html">serial_array.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3f773eaf92362657e7d3ba7107db4a93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int serial_send_array </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send array of type int. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>specify the pointer to the output array </td></tr>
    <tr><td class="paramname">dataLength</td><td>is the number of elements in the data send buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of elements actually sent </dd></dl>

<p>Definition at line <a class="el" href="serial__array_8cpp_source.html#l00189">189</a> of file <a class="el" href="serial__array_8cpp_source.html">serial_array.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3d20d8e1103f03df5b983e7c0d99a1fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int serial_send_array </td>
          <td>(</td>
          <td class="paramtype">long *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dataLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send array of type long. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>specify the pointer to the output array </td></tr>
    <tr><td class="paramname">dataLength</td><td>is the number of elements in the data send buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of elements actually sent </dd></dl>

<p>Definition at line <a class="el" href="serial__array_8cpp_source.html#l00230">230</a> of file <a class="el" href="serial__array_8cpp_source.html">serial_array.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 26 2014 21:16:00 for MatlabComm by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
